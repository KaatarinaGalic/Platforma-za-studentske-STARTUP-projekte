import{m as Xe,u as Qe,V as ke}from"./VTextField-DvOc41fn.js";import{p as $,I as ne,m as ue,aQ as Ye,d as pe,aR as De,g as ee,u as Je,aS as Fe,i as ze,s as O,l as A,aT as ce,aU as Ze,aV as se,n as W,v as ae,a as d,aP as Se,a5 as Q,aW as me,aX as et,e as Oe,au as _e,f as Be,aY as tt,aC as oe,C as K,aF as Ve,aM as lt,ad as nt,aq as at,G as ot,at as st,aZ as it,a_ as ut,a$ as rt,h as Me,aN as ct,av as dt,ae as vt,ax as ft,aA as mt,b0 as ht,z as de,K as pt,b1 as gt,x as Ce,y as yt,aD as bt,b2 as kt,B as le,N as St,F as Z,a8 as he,aO as Le,b3 as Vt,b4 as He,b5 as Ct,b6 as wt,j as J,J as Pt,b7 as we,q as xt,b8 as It,b9 as Pe,ba as Ke,P as ge,bb as Tt,bc as xe,aK as Ie,bd as Ue,be as ve,bf as At,ap as Et,bg as Rt,aw as Dt,bh as Ft,E as re,A as zt,bi as Ot,bj as _t,bk as Bt,bl as Mt,ai as Lt,a9 as Te,bm as Ht,_ as Kt,bn as Ae,aH as Ut}from"./index-N8nsg5h5.js";import{V as qt}from"./VCheckboxBtn-CFQTUp3O.js";function Gt(e){let{selectedElement:c,containerElement:t,isRtl:u,isHorizontal:o}=e;const p=ie(o,t),h=qe(o,u,t),s=ie(o,c),n=Ge(o,c),k=s*.4;return h>n?n-k:h+p<n+s?n-p+s+k:h}function Nt(e){let{selectedElement:c,containerElement:t,isHorizontal:u}=e;const o=ie(u,t),p=Ge(u,c),h=ie(u,c);return p-o/2+h/2}function Ee(e,c){const t=e?"scrollWidth":"scrollHeight";return(c==null?void 0:c[t])||0}function Wt(e,c){const t=e?"clientWidth":"clientHeight";return(c==null?void 0:c[t])||0}function qe(e,c,t){if(!t)return 0;const{scrollLeft:u,offsetWidth:o,scrollWidth:p}=t;return e?c?p-o+u:u:t.scrollTop}function ie(e,c){const t=e?"offsetWidth":"offsetHeight";return(c==null?void 0:c[t])||0}function Ge(e,c){const t=e?"offsetLeft":"offsetTop";return(c==null?void 0:c[t])||0}const $t=Symbol.for("vuetify:v-slide-group"),Ne=$({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:$t},nextIcon:{type:ne,default:"$next"},prevIcon:{type:ne,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ue(),...Ye({mobile:null}),...pe(),...De({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Re=ee()({name:"VSlideGroup",props:Ne(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const{isRtl:u}=Je(),{displayClasses:o,mobile:p}=Fe(e),h=ze(e,e.symbol),s=O(!1),n=O(0),k=O(0),E=O(0),V=A(()=>e.direction==="horizontal"),{resizeRef:m,contentRect:x}=ce(),{resizeRef:S,contentRect:f}=ce(),a=Ze(),y=A(()=>({container:m.el,duration:200,easing:"easeOutQuart"})),w=A(()=>h.selected.value.length?h.items.value.findIndex(l=>l.id===h.selected.value[0]):-1),R=A(()=>h.selected.value.length?h.items.value.findIndex(l=>l.id===h.selected.value[h.selected.value.length-1]):-1);if(se){let l=-1;W(()=>[h.selected.value,x.value,f.value,V.value],()=>{cancelAnimationFrame(l),l=requestAnimationFrame(()=>{if(x.value&&f.value){const r=V.value?"width":"height";k.value=x.value[r],E.value=f.value[r],s.value=k.value+1<E.value}if(w.value>=0&&S.el){const r=S.el.children[R.value];H(r,e.centerActive)}})})}const I=O(!1);function H(l,r){let g=0;r?g=Nt({containerElement:m.el,isHorizontal:V.value,selectedElement:l}):g=Gt({containerElement:m.el,isHorizontal:V.value,isRtl:u.value,selectedElement:l}),j(g)}function j(l){if(!se||!m.el)return;const r=ie(V.value,m.el),g=qe(V.value,u.value,m.el);if(!(Ee(V.value,m.el)<=r||Math.abs(l-g)<16)){if(V.value&&u.value&&m.el){const{scrollWidth:T,offsetWidth:P}=m.el;l=T-P-l}V.value?a.horizontal(l,y.value):a(l,y.value)}}function C(l){const{scrollTop:r,scrollLeft:g}=l.target;n.value=V.value?g:r}function L(l){if(I.value=!0,!(!s.value||!S.el)){for(const r of l.composedPath())for(const g of S.el.children)if(g===r){H(g);return}}}function U(l){I.value=!1}let _=!1;function q(l){var r;!_&&!I.value&&!(l.relatedTarget&&((r=S.el)!=null&&r.contains(l.relatedTarget)))&&B(),_=!1}function N(){_=!0}function G(l){if(!S.el)return;function r(g){l.preventDefault(),B(g)}V.value?l.key==="ArrowRight"?r(u.value?"prev":"next"):l.key==="ArrowLeft"&&r(u.value?"next":"prev"):l.key==="ArrowDown"?r("next"):l.key==="ArrowUp"&&r("prev"),l.key==="Home"?r("first"):l.key==="End"&&r("last")}function B(l){var g,b;if(!S.el)return;let r;if(!l)r=me(S.el)[0];else if(l==="next"){if(r=(g=S.el.querySelector(":focus"))==null?void 0:g.nextElementSibling,!r)return B("first")}else if(l==="prev"){if(r=(b=S.el.querySelector(":focus"))==null?void 0:b.previousElementSibling,!r)return B("last")}else l==="first"?r=S.el.firstElementChild:l==="last"&&(r=S.el.lastElementChild);r&&r.focus({preventScroll:!0})}function D(l){const r=V.value&&u.value?-1:1,g=(l==="prev"?-r:r)*k.value;let b=n.value+g;if(V.value&&u.value&&m.el){const{scrollWidth:T,offsetWidth:P}=m.el;b+=T-P}j(b)}const Y=A(()=>({next:h.next,prev:h.prev,select:h.select,isSelected:h.isSelected})),X=A(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!p.value;case!0:return s.value||Math.abs(n.value)>0;case"mobile":return p.value||s.value||Math.abs(n.value)>0;default:return!p.value&&(s.value||Math.abs(n.value)>0)}}),v=A(()=>Math.abs(n.value)>1),i=A(()=>{if(!m.value)return!1;const l=Ee(V.value,m.el),r=Wt(V.value,m.el);return l-r-Math.abs(n.value)>1});return ae(()=>d(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!V.value,"v-slide-group--has-affixes":X.value,"v-slide-group--is-overflowing":s.value},o.value,e.class],style:e.style,tabindex:I.value||h.selected.value.length?-1:0,onFocus:q},{default:()=>{var l,r,g;return[X.value&&d("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!v.value}],onMousedown:N,onClick:()=>v.value&&D("prev")},[((l=t.prev)==null?void 0:l.call(t,Y.value))??d(Se,null,{default:()=>[d(Q,{icon:u.value?e.nextIcon:e.prevIcon},null)]})]),d("div",{key:"container",ref:m,class:"v-slide-group__container",onScroll:C},[d("div",{ref:S,class:"v-slide-group__content",onFocusin:L,onFocusout:U,onKeydown:G},[(r=t.default)==null?void 0:r.call(t,Y.value)])]),X.value&&d("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!i.value}],onMousedown:N,onClick:()=>i.value&&D("next")},[((g=t.next)==null?void 0:g.call(t,Y.value))??d(Se,null,{default:()=>[d(Q,{icon:u.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:h.selected,scrollTo:D,scrollOffset:n,focus:B}}}),We=Symbol.for("vuetify:v-chip-group"),jt=$({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:et},...Ne(),...ue(),...De({selectedClass:"v-chip--selected"}),...pe(),...Oe(),..._e({variant:"tonal"})},"VChipGroup");ee()({name:"VChipGroup",props:jt(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const{themeClasses:u}=Be(e),{isSelected:o,select:p,next:h,prev:s,selected:n}=ze(e,We);return tt({VChip:{color:oe(e,"color"),disabled:oe(e,"disabled"),filter:oe(e,"filter"),variant:oe(e,"variant")}}),ae(()=>{const k=Re.filterProps(e);return d(Re,K(k,{class:["v-chip-group",{"v-chip-group--column":e.column},u.value,e.class],style:e.style}),{default:()=>{var E;return[(E=t.default)==null?void 0:E.call(t,{isSelected:o,select:p,next:h,prev:s,selected:n.value})]}})}),{}}});const Xt=$({activeClass:String,appendAvatar:String,appendIcon:ne,closable:Boolean,closeIcon:{type:ne,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ne,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Ve(),onClickOnce:Ve(),...lt(),...ue(),...nt(),...at(),...ot(),...st(),...it(),...ut(),...pe({tag:"span"}),...Oe(),..._e({variant:"tonal"})},"VChip"),Qt=ee()({name:"VChip",directives:{Ripple:rt},props:Xt(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,c){let{attrs:t,emit:u,slots:o}=c;const{t:p}=Me(),{borderClasses:h}=ct(e),{colorClasses:s,colorStyles:n,variantClasses:k}=dt(e),{densityClasses:E}=vt(e),{elevationClasses:V}=ft(e),{roundedClasses:m}=mt(e),{sizeClasses:x}=ht(e),{themeClasses:S}=Be(e),f=de(e,"modelValue"),a=pt(e,We,!1),y=gt(e,t),w=A(()=>e.link!==!1&&y.isLink.value),R=A(()=>!e.disabled&&e.link!==!1&&(!!a||e.link||y.isClickable.value)),I=A(()=>({"aria-label":p(e.closeLabel),onClick(C){C.preventDefault(),C.stopPropagation(),f.value=!1,u("click:close",C)}}));function H(C){var L;u("click",C),R.value&&((L=y.navigate)==null||L.call(y,C),a==null||a.toggle())}function j(C){(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),H(C))}return()=>{const C=y.isLink.value?"a":e.tag,L=!!(e.appendIcon||e.appendAvatar),U=!!(L||o.append),_=!!(o.close||e.closable),q=!!(o.filter||e.filter)&&a,N=!!(e.prependIcon||e.prependAvatar),G=!!(N||o.prepend),B=!a||a.isSelected.value;return f.value&&Ce(d(C,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":R.value,"v-chip--filter":q,"v-chip--pill":e.pill},S.value,h.value,B?s.value:void 0,E.value,V.value,m.value,x.value,k.value,a==null?void 0:a.selectedClass.value,e.class],style:[B?n.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:y.href.value,tabindex:R.value?0:void 0,onClick:H,onKeydown:R.value&&!w.value&&j},{default:()=>{var D;return[bt(R.value,"v-chip"),q&&d(kt,{key:"filter"},{default:()=>[Ce(d("div",{class:"v-chip__filter"},[o.filter?d(le,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},o.filter):d(Q,{key:"filter-icon",icon:e.filterIcon},null)]),[[St,a.isSelected.value]])]}),G&&d("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?d(le,{key:"prepend-defaults",disabled:!N,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},o.prepend):d(Z,null,[e.prependIcon&&d(Q,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&d(he,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),d("div",{class:"v-chip__content","data-no-activator":""},[((D=o.default)==null?void 0:D.call(o,{isSelected:a==null?void 0:a.isSelected.value,selectedClass:a==null?void 0:a.selectedClass.value,select:a==null?void 0:a.select,toggle:a==null?void 0:a.toggle,value:a==null?void 0:a.value.value,disabled:e.disabled}))??e.text]),U&&d("div",{key:"append",class:"v-chip__append"},[o.append?d(le,{key:"append-defaults",disabled:!L,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},o.append):d(Z,null,[e.appendIcon&&d(Q,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&d(he,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),_&&d("button",K({key:"close",class:"v-chip__close",type:"button"},I.value),[o.close?d(le,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},o.close):d(Q,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[yt("ripple"),R.value&&e.ripple,null]])}}}),Yt=$({id:String,...Le(Vt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:He}}),["absolute"])},"VMenu"),Jt=ee()({name:"VMenu",props:Yt(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const u=de(e,"modelValue"),{scopeId:o}=Ct(),p=wt(),h=A(()=>e.id||`v-menu-${p}`),s=J(),n=Pt(we,null),k=O(0);xt(we,{register(){++k.value},unregister(){--k.value},closeParents(f){setTimeout(()=>{!k.value&&!e.persistent&&(f==null||f&&!It(f,s.value.contentEl))&&(u.value=!1,n==null||n.closeParents())},40)}});async function E(f){var w,R,I;const a=f.relatedTarget,y=f.target;await ge(),u.value&&a!==y&&((w=s.value)!=null&&w.contentEl)&&((R=s.value)!=null&&R.globalTop)&&![document,s.value.contentEl].includes(y)&&!s.value.contentEl.contains(y)&&((I=me(s.value.contentEl)[0])==null||I.focus())}W(u,f=>{f?(n==null||n.register(),document.addEventListener("focusin",E,{once:!0})):(n==null||n.unregister(),document.removeEventListener("focusin",E))});function V(f){n==null||n.closeParents(f)}function m(f){var a,y,w;if(!e.disabled)if(f.key==="Tab"||f.key==="Enter"&&!e.closeOnContentClick){if(f.key==="Enter"&&(f.target instanceof HTMLTextAreaElement||f.target instanceof HTMLInputElement&&f.target.closest("form")))return;f.key==="Enter"&&f.preventDefault(),Tt(me((a=s.value)==null?void 0:a.contentEl,!1),f.shiftKey?"prev":"next",I=>I.tabIndex>=0)||(u.value=!1,(w=(y=s.value)==null?void 0:y.activatorEl)==null||w.focus())}else["Enter"," "].includes(f.key)&&e.closeOnContentClick&&(u.value=!1,n==null||n.closeParents())}function x(f){var y;if(e.disabled)return;const a=(y=s.value)==null?void 0:y.contentEl;a&&u.value?f.key==="ArrowDown"?(f.preventDefault(),xe(a,"next")):f.key==="ArrowUp"&&(f.preventDefault(),xe(a,"prev")):["ArrowDown","ArrowUp"].includes(f.key)&&(u.value=!0,f.preventDefault(),setTimeout(()=>setTimeout(()=>x(f))))}const S=A(()=>K({"aria-haspopup":"menu","aria-expanded":String(u.value),"aria-owns":h.value,onKeydown:x},e.activatorProps));return ae(()=>{const f=Pe.filterProps(e);return d(Pe,K({ref:s,id:h.value,class:["v-menu",e.class],style:e.style},f,{modelValue:u.value,"onUpdate:modelValue":a=>u.value=a,absolute:!0,activatorProps:S.value,"onClick:outside":V,onKeydown:m},o),{activator:t.activator,default:function(){for(var a=arguments.length,y=new Array(a),w=0;w<a;w++)y[w]=arguments[w];return d(le,{root:"VMenu"},{default:()=>{var R;return[(R=t.default)==null?void 0:R.call(t,...y)]}})}})}),Ke({id:h,ΨopenChildren:k},s)}}),Zt=$({renderless:Boolean,...ue()},"VVirtualScrollItem"),el=ee()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Zt(),emits:{"update:height":e=>!0},setup(e,c){let{attrs:t,emit:u,slots:o}=c;const{resizeRef:p,contentRect:h}=ce(void 0,"border");W(()=>{var s;return(s=h.value)==null?void 0:s.height},s=>{s!=null&&u("update:height",s)}),ae(()=>{var s,n;return e.renderless?d(Z,null,[(s=o.default)==null?void 0:s.call(o,{itemRef:p})]):d("div",K({ref:p,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(n=o.default)==null?void 0:n.call(o)])})}}),tl=-1,ll=1,fe=100,nl=$({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function al(e,c){const t=Fe(),u=O(0);Ie(()=>{u.value=parseFloat(e.itemHeight||0)});const o=O(0),p=O(Math.ceil((parseInt(e.height)||t.height.value)/(u.value||16))||1),h=O(0),s=O(0),n=J(),k=J();let E=0;const{resizeRef:V,contentRect:m}=ce();Ie(()=>{V.value=n.value});const x=A(()=>{var i;return n.value===document.documentElement?t.height.value:((i=m.value)==null?void 0:i.height)||parseInt(e.height)||0}),S=A(()=>!!(n.value&&k.value&&x.value&&u.value));let f=Array.from({length:c.value.length}),a=Array.from({length:c.value.length});const y=O(0);let w=-1;function R(i){return f[i]||u.value}const I=At(()=>{const i=performance.now();a[0]=0;const l=c.value.length;for(let r=1;r<=l-1;r++)a[r]=(a[r-1]||0)+R(r-1);y.value=Math.max(y.value,performance.now()-i)},y),H=W(S,i=>{i&&(H(),E=k.value.offsetTop,I.immediate(),D(),~w&&ge(()=>{se&&window.requestAnimationFrame(()=>{X(w),w=-1})}))});Ue(()=>{I.clear()});function j(i,l){const r=f[i],g=u.value;u.value=g?Math.min(u.value,l):l,(r!==l||g!==u.value)&&(f[i]=l,I())}function C(i){return i=ve(i,0,c.value.length-1),a[i]||0}function L(i){return ol(a,i)}let U=0,_=0,q=0;W(x,(i,l)=>{l&&(D(),i<l&&requestAnimationFrame(()=>{_=0,D()}))});function N(){if(!n.value||!k.value)return;const i=n.value.scrollTop,l=performance.now();l-q>500?(_=Math.sign(i-U),E=k.value.offsetTop):_=i-U,U=i,q=l,D()}function G(){!n.value||!k.value||(_=0,q=0,D())}let B=-1;function D(){cancelAnimationFrame(B),B=requestAnimationFrame(Y)}function Y(){if(!n.value||!x.value)return;const i=U-E,l=Math.sign(_),r=Math.max(0,i-fe),g=ve(L(r),0,c.value.length),b=i+x.value+fe,T=ve(L(b)+1,g+1,c.value.length);if((l!==tl||g<o.value)&&(l!==ll||T>p.value)){const P=C(o.value)-C(g),F=C(T)-C(p.value);Math.max(P,F)>fe?(o.value=g,p.value=T):(g<=0&&(o.value=g),T>=c.value.length&&(p.value=T))}h.value=C(o.value),s.value=C(c.value.length)-C(p.value)}function X(i){const l=C(i);!n.value||i&&!l?w=i:n.value.scrollTop=l}const v=A(()=>c.value.slice(o.value,p.value).map((i,l)=>({raw:i,index:l+o.value})));return W(c,()=>{f=Array.from({length:c.value.length}),a=Array.from({length:c.value.length}),I.immediate(),D()},{deep:!0}),{containerRef:n,markerRef:k,computedItems:v,paddingTop:h,paddingBottom:s,scrollToIndex:X,handleScroll:N,handleScrollend:G,handleItemResize:j}}function ol(e,c){let t=e.length-1,u=0,o=0,p=null,h=-1;if(e[t]<c)return t;for(;u<=t;)if(o=u+t>>1,p=e[o],p>c)t=o-1;else if(p<c)h=o,u=o+1;else return p===c?o:u;return h}const sl=$({items:{type:Array,default:()=>[]},renderless:Boolean,...nl(),...ue(),...Et()},"VVirtualScroll"),il=ee()({name:"VVirtualScroll",props:sl(),setup(e,c){let{slots:t}=c;const u=Rt("VVirtualScroll"),{dimensionStyles:o}=Dt(e),{containerRef:p,markerRef:h,handleScroll:s,handleScrollend:n,handleItemResize:k,scrollToIndex:E,paddingTop:V,paddingBottom:m,computedItems:x}=al(e,oe(e,"items"));return Ft(()=>e.renderless,()=>{function S(){var y,w;const a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";p.value===document.documentElement?(document[a]("scroll",s,{passive:!0}),document[a]("scrollend",n)):((y=p.value)==null||y[a]("scroll",s,{passive:!0}),(w=p.value)==null||w[a]("scrollend",n))}zt(()=>{p.value=Ot(u.vnode.el,!0),S(!0)}),Ue(S)}),ae(()=>{const S=x.value.map(f=>d(el,{key:f.index,renderless:e.renderless,"onUpdate:height":a=>k(f.index,a)},{default:a=>{var y;return(y=t.default)==null?void 0:y.call(t,{item:f.raw,index:f.index,...a})}}));return e.renderless?d(Z,null,[d("div",{ref:h,class:"v-virtual-scroll__spacer",style:{paddingTop:re(V.value)}},null),S,d("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:re(m.value)}},null)]):d("div",{ref:p,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:n,style:[o.value,e.style]},[d("div",{ref:h,class:"v-virtual-scroll__container",style:{paddingTop:re(V.value),paddingBottom:re(m.value)}},[S])])}),{scrollToIndex:E}}});function ul(e,c){const t=O(!1);let u;function o(s){cancelAnimationFrame(u),t.value=!0,u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{t.value=!1})})}async function p(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(t.value){const n=W(t,()=>{n(),s()})}else s()})}async function h(s){var E,V;if(s.key==="Tab"&&((E=c.value)==null||E.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const n=(V=e.value)==null?void 0:V.$el;if(!n)return;(s.key==="Home"||s.key==="End")&&n.scrollTo({top:s.key==="Home"?0:n.scrollHeight,behavior:"smooth"}),await p();const k=n.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const m=n.getBoundingClientRect().top;for(const x of k)if(x.getBoundingClientRect().top>=m){x.focus();break}}else{const m=n.getBoundingClientRect().bottom;for(const x of[...k].reverse())if(x.getBoundingClientRect().bottom<=m){x.focus();break}}}return{onListScroll:o,onListKeydown:h}}const rl=$({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ne,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,..._t({itemChildren:!1})},"Select"),cl=$({...rl(),...Le(Xe({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Bt({transition:{component:He}})},"VSelect"),ml=ee()({name:"VSelect",props:cl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:t}=c;const{t:u}=Me(),o=J(),p=J(),h=J(),s=de(e,"menu"),n=A({get:()=>s.value,set:v=>{var i;s.value&&!v&&((i=p.value)!=null&&i.ΨopenChildren)||(s.value=v)}}),{items:k,transformIn:E,transformOut:V}=Mt(e),m=de(e,"modelValue",[],v=>E(v===null?[null]:Ut(v)),v=>{const i=V(v);return e.multiple?i:i[0]??null}),x=A(()=>typeof e.counterValue=="function"?e.counterValue(m.value):typeof e.counterValue=="number"?e.counterValue:m.value.length),S=Qe(),f=A(()=>m.value.map(v=>v.value)),a=O(!1),y=A(()=>n.value?e.closeText:e.openText);let w="",R;const I=A(()=>e.hideSelected?k.value.filter(v=>!m.value.some(i=>e.valueComparator(i,v))):k.value),H=A(()=>e.hideNoData&&!I.value.length||e.readonly||(S==null?void 0:S.isReadonly.value)),j=A(()=>{var v;return{...e.menuProps,activatorProps:{...((v=e.menuProps)==null?void 0:v.activatorProps)||{},"aria-haspopup":"listbox"}}}),C=J(),{onListScroll:L,onListKeydown:U}=ul(C,o);function _(v){e.openOnClear&&(n.value=!0)}function q(){H.value||(n.value=!n.value)}function N(v){var b,T;if(!v.key||e.readonly||S!=null&&S.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(v.key)&&v.preventDefault(),["Enter","ArrowDown"," "].includes(v.key)&&(n.value=!0),["Escape","Tab"].includes(v.key)&&(n.value=!1),v.key==="Home"?(b=C.value)==null||b.focus("first"):v.key==="End"&&((T=C.value)==null||T.focus("last"));const i=1e3;function l(P){const F=P.key.length===1,z=!P.ctrlKey&&!P.metaKey&&!P.altKey;return F&&z}if(e.multiple||!l(v))return;const r=performance.now();r-R>i&&(w=""),w+=v.key.toLowerCase(),R=r;const g=k.value.find(P=>P.title.toLowerCase().startsWith(w));if(g!==void 0){m.value=[g];const P=I.value.indexOf(g);se&&window.requestAnimationFrame(()=>{var F;P>=0&&((F=h.value)==null||F.scrollToIndex(P))})}}function G(v){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!v.props.disabled)if(e.multiple){const l=m.value.findIndex(g=>e.valueComparator(g.value,v.value)),r=i??!~l;if(~l){const g=r?[...m.value,v]:[...m.value];g.splice(l,1),m.value=g}else r&&(m.value=[...m.value,v])}else{const l=i!==!1;m.value=l?[v]:[],ge(()=>{n.value=!1})}}function B(v){var i;(i=C.value)!=null&&i.$el.contains(v.relatedTarget)||(n.value=!1)}function D(){var v;a.value&&((v=o.value)==null||v.focus())}function Y(v){a.value=!0}function X(v){if(v==null)m.value=[];else if(Ae(o.value,":autofill")||Ae(o.value,":-webkit-autofill")){const i=k.value.find(l=>l.title===v);i&&G(i)}else o.value&&(o.value.value="")}return W(n,()=>{if(!e.hideSelected&&n.value&&m.value.length){const v=I.value.findIndex(i=>m.value.some(l=>e.valueComparator(l.value,i.value)));se&&window.requestAnimationFrame(()=>{var i;v>=0&&((i=h.value)==null||i.scrollToIndex(v))})}}),W(()=>e.items,(v,i)=>{n.value||a.value&&!i.length&&v.length&&(n.value=!0)}),ae(()=>{const v=!!(e.chips||t.chip),i=!!(!e.hideNoData||I.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),l=m.value.length>0,r=ke.filterProps(e),g=l||!a.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return d(ke,K({ref:o},r,{modelValue:m.value.map(b=>b.props.value).join(", "),"onUpdate:modelValue":X,focused:a.value,"onUpdate:focused":b=>a.value=b,validationValue:m.externalValue,counterValue:x.value,dirty:l,class:["v-select",{"v-select--active-menu":n.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":m.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:g,"onClick:clear":_,"onMousedown:control":q,onBlur:B,onKeydown:N,"aria-label":u(y.value),title:u(y.value)}),{...t,default:()=>d(Z,null,[d(Jt,K({ref:p,modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,activator:"parent",contentClass:"v-select__content",disabled:H.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:D},j.value),{default:()=>[i&&d(Lt,K({ref:C,selected:f.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:b=>b.preventDefault(),onKeydown:U,onFocusin:Y,onScrollPassive:L,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var b,T,P;return[(b=t["prepend-item"])==null?void 0:b.call(t),!I.value.length&&!e.hideNoData&&(((T=t["no-data"])==null?void 0:T.call(t))??d(Te,{title:u(e.noDataText)},null)),d(il,{ref:h,renderless:!0,items:I.value},{default:F=>{var be;let{item:z,index:te,itemRef:M}=F;const ye=K(z.props,{ref:M,key:te,onClick:()=>G(z,null)});return((be=t.item)==null?void 0:be.call(t,{item:z,index:te,props:ye}))??d(Te,K(ye,{role:"option"}),{prepend:$e=>{let{isSelected:je}=$e;return d(Z,null,[e.multiple&&!e.hideSelected?d(qt,{key:z.value,modelValue:je,ripple:!1,tabindex:"-1"},null):void 0,z.props.prependAvatar&&d(he,{image:z.props.prependAvatar},null),z.props.prependIcon&&d(Q,{icon:z.props.prependIcon},null)])}})}}),(P=t["append-item"])==null?void 0:P.call(t)]}})]}),m.value.map((b,T)=>{function P(M){M.stopPropagation(),M.preventDefault(),G(b,!1)}const F={"onClick:close":P,onKeydown(M){M.key!=="Enter"&&M.key!==" "||(M.preventDefault(),M.stopPropagation(),P(M))},onMousedown(M){M.preventDefault(),M.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},z=v?!!t.chip:!!t.selection,te=z?Ht(v?t.chip({item:b,index:T,props:F}):t.selection({item:b,index:T})):void 0;if(!(z&&!te))return d("div",{key:b.value,class:"v-select__selection"},[v?t.chip?d(le,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:b.title}}},{default:()=>[te]}):d(Qt,K({key:"chip",closable:e.closableChips,size:"small",text:b.title,disabled:b.props.disabled},F),null):te??d("span",{class:"v-select__selection-text"},[b.title,e.multiple&&T<m.value.length-1&&d("span",{class:"v-select__selection-comma"},[Kt(",")])])])})]),"append-inner":function(){var F;for(var b=arguments.length,T=new Array(b),P=0;P<b;P++)T[P]=arguments[P];return d(Z,null,[(F=t["append-inner"])==null?void 0:F.call(t,...T),e.menuIcon?d(Q,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ke({isFocused:a,menu:n,select:G},o)}});export{ml as V};
